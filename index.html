<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12 Crucigramas Finales</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #2980b9;
            --accent: #e74c3c;
            --bg: #ecf0f1;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); max-width: 950px; width: 100%; }
        h1 { color: var(--primary); margin-top: 0; text-align: center; }
        select { width: 100%; padding: 12px; margin-bottom: 25px; font-size: 16px; border: 2px solid #bdc3c7; border-radius: 8px; cursor: pointer; background-color: #fff; }
        select:focus { border-color: var(--secondary); outline: none; }
        
        .game-area { display: flex; flex-wrap: wrap; gap: 40px; justify-content: center; align-items: flex-start; }
        
        /* Grid Design */
        #grid-wrapper { background: #bdc3c7; padding: 5px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        #grid { display: grid; gap: 2px; }
        .cell { width: 44px; height: 44px; background: #ecf0f1; display: flex; justify-content: center; align-items: center; position: relative; font-weight: bold; font-size: 20px; color: var(--primary); text-transform: uppercase; }
        .cell.filled { background: white; box-shadow: inset 0 0 5px rgba(0,0,0,0.05); animation: pop 0.3s ease-out; }
        .cell .num { position: absolute; top: 2px; left: 4px; font-size: 10px; color: var(--accent); font-weight: 700; line-height: 1; }

        /* Clues Design */
        .clues { flex: 1; min-width: 280px; max-width: 400px; background: #f9f9f9; padding: 20px; border-radius: 10px; border: 1px solid #eee; }
        h3 { color: var(--secondary); border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; margin-top: 0; }
        ul { padding-left: 20px; margin-bottom: 20px; }
        li { margin-bottom: 8px; line-height: 1.4; color: #555; }
        li b { color: var(--primary); margin-right: 5px; }

        @keyframes pop { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>
<div class="container">
    <h1>Crucigramas de Español</h1>
    <select id="selector"></select>
    <div class="game-area">
        <div id="grid-wrapper"><div id="grid"></div></div>
        <div class="clues">
            <h3>Horizontales</h3><ul id="h-clues"></ul>
            <h3>Verticales</h3><ul id="v-clues"></ul>
        </div>
    </div>
</div>
<script>
const data = [
    {
        id: 1, nombre: "1. Bueno y Uno",
        palabras: [
            { palabra: "bueno", pista: "good", orientacion: "horizontal", x: 0, y: 2, desglose: ["b","u","e","n","o"] },
            { palabra: "buen", pista: "good (short)", orientacion: "vertical", x: 0, y: 2, desglose: ["b","u","e","n"] },
            { palabra: "uno", pista: "one", orientacion: "vertical", x: 4, y: 0, desglose: ["u","n","o"] }
        ]
    },
    {
        id: 2, nombre: "2. Sol y Solo",
        palabras: [
            { palabra: "solo", pista: "alone / only", orientacion: "horizontal", x: 0, y: 0, desglose: ["s","o","l","o"] },
            { palabra: "sol", pista: "sun", orientacion: "vertical", x: 0, y: 0, desglose: ["s","o","l"] },
            { palabra: "los", pista: "the (plural)", orientacion: "vertical", x: 2, y: 0, desglose: ["l","o","s"] }
        ]
    },
    {
        id: 3, nombre: "3. Porqués",
        palabras: [
            { palabra: "porque", pista: "because", orientacion: "horizontal", x: 0, y: 2, desglose: ["p","o","r","q","u","e"] },
            { palabra: "por", pista: "by / for", orientacion: "vertical", x: 0, y: 2, desglose: ["p","o","r"] },
            { palabra: "que", pista: "what / that", orientacion: "vertical", x: 3, y: 2, desglose: ["q","u","e"] },
            { palabra: "pero", pista: "but", orientacion: "vertical", x: 5, y: 1, desglose: ["p","e","r","o"] }
        ]
    },
    {
        id: 4, nombre: "4. Cocinero y Números (Final)",
        palabras: [
            { palabra: "cocinero", pista: "cook / chef", orientacion: "horizontal", x: 0, y: 4, desglose: ["c","o","c","i","n","e","r","o"] },
            { palabra: "cinco", pista: "five", orientacion: "vertical", x: 1, y: 0, desglose: ["c","i","n","c","o"] },
            { palabra: "rico", pista: "rich", orientacion: "vertical", x: 7, y: 1, desglose: ["r","i","c","o"] },
            { palabra: "cine", pista: "cinema", orientacion: "vertical", x: 4, y: 2, desglose: ["c","i","n","e"] },
            { palabra: "cien", pista: "one hundred", orientacion: "horizontal", x: 0, y: 1, desglose: ["c","i","e","n"] }
        ]
    },
    {
        id: 5, nombre: "5. Mercado",
        palabras: [
            { palabra: "mercado", pista: "market", orientacion: "horizontal", x: 2, y: 0, desglose: ["m","e","r","c","a","d","o"] },
            { palabra: "madre", pista: "mother", orientacion: "vertical", x: 2, y: 0, desglose: ["m","a","d","r","e"] },
            { palabra: "cero", pista: "zero", orientacion: "horizontal", x: 0, y: 3, desglose: ["c","e","r","o"] },
            { palabra: "comer", pista: "to eat", orientacion: "vertical", x: 5, y: 0, desglose: ["c","o","m","e","r"] },
            { palabra: "doce", pista: "twelve", orientacion: "vertical", x: 7, y: 0, desglose: ["d","o","c","e"] }
        ]
    },
    {
        id: 6, nombre: "6. Vestido",
        palabras: [
            { palabra: "vestido", pista: "dress", orientacion: "horizontal", x: 0, y: 0, desglose: ["v","e","s","t","i","d","o"] },
            { palabra: "dos", pista: "two", orientacion: "vertical", x: 5, y: 0, desglose: ["d","o","s"] },
            { palabra: "tio", pista: "uncle", orientacion: "vertical", x: 3, y: 0, desglose: ["t","i","o"] },
            { palabra: "sed", pista: "thirst", orientacion: "horizontal", x: 5, y: 2, desglose: ["s","e","d"] }
        ]
    },
    {
        id: 7, nombre: "7. Tienda",
        palabras: [
            { palabra: "tienda", pista: "shop", orientacion: "horizontal", x: 0, y: 0, desglose: ["t","i","e","n","d","a"] },
            { palabra: "tia", pista: "aunt", orientacion: "vertical", x: 0, y: 0, desglose: ["t","i","a"] },
            { palabra: "nieta", pista: "granddaughter", orientacion: "vertical", x: 3, y: 0, desglose: ["n","i","e","t","a"] },
            { palabra: "dia", pista: "day", orientacion: "horizontal", x: 1, y: 4, desglose: ["d","i","a"] }
        ]
    },
    {
        id: 8, nombre: "8. Camarero (Final)",
        palabras: [
            { palabra: "camarero", pista: "waiter", orientacion: "horizontal", x: 1, y: 0, desglose: ["c","a","m","a","r","e","r","o"] },
            { palabra: "cama", pista: "bed", orientacion: "vertical", x: 1, y: 0, desglose: ["c","a","m","a"] },
            { palabra: "amar", pista: "to love", orientacion: "horizontal", x: 0, y: 2, desglose: ["a","m","a","r"] },
            // Mar en (3,0) y conecta en (3,2) con 'r'. Debe ser Vertical para cruzar horizontal y=0 y y=2
            { palabra: "mar", pista: "sea", orientacion: "vertical", x: 3, y: 0, desglose: ["m","a","r"] },
            { palabra: "roma", pista: "Rome", orientacion: "vertical", x: 7, y: 0, desglose: ["r","o","m","a"] },
            { palabra: "caro", pista: "expensive", orientacion: "horizontal", x: 6, y: 3, desglose: ["c","a","r","o"] }
        ]
    },
    {
        id: 9, nombre: "9. Hermano",
        palabras: [
            { palabra: "hermano", pista: "brother", orientacion: "horizontal", x: 0, y: 0, desglose: ["h","e","r","m","a","n","o"] },
            { palabra: "hora", pista: "hour", orientacion: "vertical", x: 0, y: 0, desglose: ["h","o","r","a"] },
            { palabra: "mano", pista: "hand", orientacion: "vertical", x: 3, y: 0, desglose: ["m","a","n","o"] }
        ]
    },
    {
        id: 10, nombre: "10. Invierno",
        palabras: [
            { palabra: "invierno", pista: "winter", orientacion: "horizontal", x: 0, y: 2, desglose: ["i","n","v","i","e","r","n","o"] },
            { palabra: "vino", pista: "wine", orientacion: "vertical", x: 2, y: 2, desglose: ["v","i","n","o"] },
            { palabra: "ver", pista: "to see", orientacion: "vertical", x: 4, y: 1, desglose: ["v","e","r"] },
            { palabra: "nieto", pista: "grandson", orientacion: "vertical", x: 6, y: 2, desglose: ["n","i","e","t","o"] },
            { palabra: "uno", pista: "one", orientacion: "vertical", x: 7, y: 0, desglose: ["u","n","o"] }
        ]
    },
    {
        id: 11, nombre: "11. Estudiantes",
        palabras: [
            { palabra: "estudiantes", pista: "students", orientacion: "horizontal", x: 0, y: 6, desglose: ["e","s","t","u","d","i","a","n","t","e","s"] },
            { palabra: "sesenta", pista: "sixty", orientacion: "vertical", x: 6, y: 0, desglose: ["s","e","s","e","n","t","a"] },
            { palabra: "esta", pista: "this", orientacion: "vertical", x: 0, y: 6, desglose: ["e","s","t","a"] },
            { palabra: "setenta", pista: "seventy", orientacion: "vertical", x: 2, y: 4, desglose: ["s","e","t","e","n","t","a"] },
            { palabra: "tia", pista: "aunt", orientacion: "vertical", x: 8, y: 6, desglose: ["t","i","a"] }
        ]
    },
    {
        id: 12, nombre: "12. Primavera",
        palabras: [
            { palabra: "primavera", pista: "spring", orientacion: "horizontal", x: 0, y: 2, desglose: ["p","r","i","m","a","v","e","r","a"] },
            { palabra: "prima", pista: "cousin", orientacion: "vertical", x: 0, y: 2, desglose: ["p","r","i","m","a"] },
            { palabra: "mirar", pista: "to look", orientacion: "vertical", x: 3, y: 2, desglose: ["m","i","r","a","r"] },
            { palabra: "ver", pista: "to see", orientacion: "vertical", x: 5, y: 2, desglose: ["v","e","r"] },
            { palabra: "mar", pista: "sea", orientacion: "vertical", x: 7, y: 0, desglose: ["m","a","r"] }
        ]
    }
];

// Inicialización del juego
const sel = document.getElementById('selector');
data.forEach((d, i) => { let o = document.createElement('option'); o.value = i; o.text = d.nombre; sel.add(o); });
sel.onchange = () => load(sel.value);

function load(idx) {
    const d = data[idx];
    const grid = document.getElementById('grid');
    const h = document.getElementById('h-clues'), v = document.getElementById('v-clues');
    
    let cols = 0, rows = 0;
    d.palabras.forEach(p => {
        if (p.orientacion === 'horizontal') { cols = Math.max(cols, p.x + p.desglose.length); rows = Math.max(rows, p.y + 1); }
        else { cols = Math.max(cols, p.x + 1); rows = Math.max(rows, p.y + p.desglose.length); }
    });

    const map = Array.from({ length: rows }, () => Array(cols).fill(null));
    d.palabras.forEach((p, wi) => {
        let cx = p.x, cy = p.y;
        p.desglose.forEach((char, ci) => {
            if (!map[cy][cx]) map[cy][cx] = { char: char, nums: [] };
            if (ci === 0) map[cy][cx].nums.push(wi + 1);
            p.orientacion === 'horizontal' ? cx++ : cy++;
        });
    });

    grid.style.gridTemplateColumns = `repeat(${cols}, 44px)`;
    grid.style.gridTemplateRows = `repeat(${rows}, 44px)`;
    grid.innerHTML = ''; h.innerHTML = ''; v.innerHTML = '';

    for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
            let cell = document.createElement('div'); cell.className = 'cell';
            if (map[r][c]) {
                cell.classList.add('filled'); cell.innerText = map[r][c].char;
                if (map[r][c].nums.length) {
                    let n = document.createElement('span'); n.className = 'num';
                    n.innerText = map[r][c].nums.join('/'); cell.appendChild(n);
                }
            }
            grid.appendChild(cell);
        }
    }

    d.palabras.forEach((p, i) => {
        let li = document.createElement('li'); li.innerHTML = `<b>${i + 1}.</b> ${p.pista}`;
        p.orientacion === 'horizontal' ? h.appendChild(li) : v.appendChild(li);
    });
}
load(0);
</script>
</body>
</html>